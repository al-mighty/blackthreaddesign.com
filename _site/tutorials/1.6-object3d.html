<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<script>
  //Catch errors with Google Analytics (must run first to catch all errors)
  addEventListener('error', window.__e=function f(e){f.q=f.q||[];f.q.push(e)});
</script>


  <link rel="stylesheet" href="/assets/css/main.css">


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway"/>

<!-- begin SEO -->









<title>The Object3D base class - Black Thread Design</title>




<meta name="description" content="Everything you need to know about the Object3D base class in three.js">



<meta name="keywords" content="WebGL, three.js, JavaScript, ES6">




<meta property="og:locale" content="en">
<meta property="og:site_name" content="Black Thread Design">
<meta property="og:title" content="The Object3D base class">


  <link rel="canonical" href="https://www.blackthreaddesign.com/tutorials/1.6-object3d">
  <meta property="og:url" content="https://www.blackthreaddesign.com/tutorials/1.6-object3d">



  <meta property="og:description" content="Everything you need to know about the Object3D base class in three.js">



  <meta name="twitter:site" content="@looeeeb">
  <meta name="twitter:title" content="The Object3D base class">
  <meta name="twitter:description" content="Everything you need to know about the Object3D base class in three.js">
  <meta name="twitter:url" content="https://www.blackthreaddesign.com/tutorials/1.6-object3d">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.blackthreaddesign.com/assets/images/default-teaser.jpg">
    
  

  



  

  
    <meta property="fb:app_id" content="103246253626280">
  



  <meta property="og:image" content="https://www.blackthreaddesign.com/assets/images/default-teaser.jpg">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-09-04T15:52:28+01:00">






  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://www.blackthreaddesign.com",
      "logo": "https://www.blackthreaddesign.com/assets/images/default-teaser.jpg"
    }
  </script>








<!-- end SEO -->


<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<link rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAAAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALe3ty6fn59af39/l6ampm2Ojo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv7+/KJmZmWSIiIj0b29v/6Wlpf9qamr/n5+f9YaGhuGjo6OOv7+/BAAAAAAAAAAAAAAAAAAAAAAAAAAAu7u7OMDAwMh4eHj/srKy/5ubm/+pqan/o6Oj/5CQkP/ExMT/vr6+/5OTk9Orq6s6AAAAAAAAAAAAAAAAl5eXYLOzs/ZmZmb/SkpK/39/f/+1tbX/IyMj/3BwcP+Ojo7/cHBw/1xcXP+QkJD/i4uLv7+/vwQAAAAAra2tH5GRkbaWlpb/ZWVl/3V1df9QUFD/hISE/ygoKP+Pj4//VFRU/319ff9AQED/pKSk/3BwcP/JyckTAAAAAJqamou5ubn+y8vL/7+/v/+fn5//ZWVl/zU1Nf8lJSX/PT09/zIyMv+srKz/pKSk/5aWlv/Gxsb/tbW1139/fwKVlZXKaGho/1JSUv+MjIz/v7+//9PT0//Nzc3/VlZW/05OTv/IyMj/3d3d/6Wlpf9ISEj/ZmZm/4qKiv/U1NQSo6Oj35KSkv9GRkb/bGxs/0ZGRv+srKz/+fn5/0NDQ//8/Pz/5ubm/09PT/98fHz/QUFB/2VlZf+5ubn/ycnJIaWlpdyjo6P/wsLC/3Z2dv84ODj/TU1N/0VFRf9/f3//FRUV/2lpaf83Nzf/dHR0/3Fxcf/k5OT/m5ub/5eXl2KTk5PWdHR0/7y8vP+Ghob/PT09/yAgIP9aWlr/9/f3/8TExP9BQUH/ICAg/3BwcP+vr6//gICA/46Ojti+vr4npqamm3h4eP90dHT/Ojo6/2BgYP9TU1P/PT09/8zMzP+JiYn/Ly8v/6Kiov8uLi7/cXFx/29vb/+np6fGAAAAALi4uE+4uLjkgoKC/6mpqf+wsLD/Tk5O/4iIiP/Gxsb/paWl/1RUVP+AgID/wsLC/2JiYv+zs7P/oqKijQAAAAC2trYOvLy8KouLi/5lZWX/4eHh/0lJSf+Tk5P/o6Oj/4aGhv9GRkb/kpKS/56env9sbGz/t7e3nAAAAAAAAAAAAAAAAAAAAACSkpJ1e3t72n19fe1lZWX/ZWVl/2dnZ/9gYGD/S0tL/4SEhP+RkZH5iIiI1re3ty4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8fHySlpaW+bOzs/9qamr/tLS0/3h4eP+ioqLtoqKijQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAra2tH4yMjG2rq6ugoqKizpubm7GVlZV/paWlMLm5uQsAAAAAAAAAAAAAAAAAAAAA/r8AAPgPAADgBwAAwAMAAIADAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAACAAQAAwAMAAOAHAADwDwAA/H8=" type="image/x-icon">



      





  </head>

  <body class="layout--single">
    <!--<div id="breakpoint">
      
    </div>-->
    
    <!-- [if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif] -->
    <div class="masthead">
  <div class="masthead__inner-wrap">
      <nav class="masthead__menu">
        <button class="toggle-links hidden"></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://www.blackthreaddesign.com/">Black Thread Design</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://www.blackthreaddesign.com/about/">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://www.blackthreaddesign.com/contact/">Contact</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://www.blackthreaddesign.com/tutorials/">Tutorials</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://www.blackthreaddesign.com/work/">Work</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://www.blackthreaddesign.com/experiments/">Experiments</a></li>
          
        </ul>
      </nav>
  </div>
</div>


    



<div id="main" role="main">
  
  <div class="sidebar">
    
      
        
        
        
      
      
        

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc"><span class="navicon"></span></label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">0. Introduction</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/0.0-requirements" class="">Requirements for running a three.js scene</a></li> 
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/0.1-github-repo" class="">Three.js on Github</a></li> 
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/0.2-getting-help" class="">Getting help and reporting bugs</a></li> 
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/0.3-development-server" class="">Setting up a development server</a></li> 
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">1. First Steps</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/1.0-getting-started" class="">Getting started</a></li> 
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/1.1-textures-intro" class="">Introduction to textures</a></li> 
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/1.2-orbit-controls" class="">Adding Orbit Controls</a></li> 
            
            
          
            

            
            

            
            

            
              <li>Curves, paths, lines, shapes</li>
            
            
          
            

            
            

            
            

            
              <li>Working with text</li>
            
            
          
            

            
            

            
            

            
              <li><a href="https://www.blackthreaddesign.com/tutorials/1.6-object3d" class="active">The Object3D base class</a></li> 
            
            
          
            

            
            

            
            

            
              <li>Built in geometries</li>
            
            
          
            

            
            

            
            

            
              <li>Working with the Scene graph</li>
            
            
          
            

            
            

            
            

            
              <li>Grouping objects</li>
            
            
          
            

            
            

            
            

            
              <li>Resizing the canvas</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">2. Build Tools and Debugging</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Setting up an ES6 build environment</li>
            
            
          
            

            
            

            
            

            
              <li>Debugging your code</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">3. Abstraction</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Automating setup with THREE.App</li>
            
            
          
            

            
            

            
            

            
              <li>Using the LoadingManger to create a loading overlay</li>
            
            
          
            

            
            

            
            

            
              <li>THREE.Time - an improved THREE.Clock</li>
            
            
          
            

            
            

            
            

            
              <li>Creating a debugging overlay</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">4. Materials</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Materials overview</li>
            
            
          
            

            
            

            
            

            
              <li>Basic, Phong and Lambert materials</li>
            
            
          
            

            
            

            
            

            
              <li>Standard and Physical materials</li>
            
            
          
            

            
            

            
            

            
              <li>Other mesh materials</li>
            
            
          
            

            
            

            
            

            
              <li>Multiple materials on a single mesh</li>
            
            
          
            

            
            

            
            

            
              <li>Materials for lines and curves</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">5. Textures</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Working with textures</li>
            
            
          
            

            
            

            
            

            
              <li>Understanding Gamma and Linear spaces</li>
            
            
          
            

            
            

            
            

            
              <li>Environment mapping with cube textures</li>
            
            
          
            

            
            

            
            

            
              <li>Working with canvas textures</li>
            
            
          
            

            
            

            
            

            
              <li>Compressed, data and depth texture formats</li>
            
            
          
            

            
            

            
            

            
              <li>Video textures</li>
            
            
          
            

            
            

            
            

            
              <li>Texture formats</li>
            
            
          
            

            
            

            
            

            
              <li>Texture encoding</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">6. Lights and shadows</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>The base light class, the ambient light and the hemisphere light</li>
            
            
          
            

            
            

            
            

            
              <li>The point light and light shadow</li>
            
            
          
            

            
            

            
            

            
              <li>The directional light and shadow</li>
            
            
          
            

            
            

            
            

            
              <li>The spot light and shadow</li>
            
            
          
            

            
            

            
            

            
              <li>The new rectangular area light and shadow</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">7. Helpers</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Light and camera helpers</li>
            
            
          
            

            
            

            
            

            
              <li>Light and camera helpers</li>
            
            
          
            

            
            

            
            

            
              <li>Mesh and geometry helpers</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">8. The /examples folder</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>The three.js /examples folder</li>
            
            
          
            

            
            

            
            

            
              <li>Converting plugins to modules</li>
            
            
          
            

            
            

            
            

            
              <li>Camera control plugins</li>
            
            
          
            

            
            

            
            

            
              <li>Loaders</li>
            
            
          
            

            
            

            
            

            
              <li>Promisifying-loaders</li>
            
            
          
            

            
            

            
            

            
              <li>Other renderers</li>
            
            
          
            

            
            

            
            

            
              <li>Included libraries</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">9. Working with assets</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Coordinate systems</li>
            
            
          
            

            
            

            
            

            
              <li>The three.js native JSON format</li>
            
            
          
            

            
            

            
            

            
              <li>The OBJ format</li>
            
            
          
            

            
            

            
            

            
              <li>The FBX format</li>
            
            
          
            

            
            

            
            

            
              <li>The GLTF format</li>
            
            
          
            

            
            

            
            

            
              <li>Working with Blender</li>
            
            
          
            

            
            

            
            

            
              <li>Working with 3D Studio Max</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">10. The WebGLRenderer</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>The WebGLRenderer in detail</li>
            
            
          
            

            
            

            
            

            
              <li>The WebGLRendererTarget</li>
            
            
          
            

            
            

            
            

            
              <li>The WebGLRendererTargetCube</li>
            
            
          
            

            
            

            
            

            
              <li>The Sprite WebGLRenderer plugin</li>
            
            
          
            

            
            

            
            

            
              <li>The LensFlare WebGLRenderer plugin</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">11. Geometries and BufferGeometries</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Understanding geometries - vertices, faces and UV mapping</li>
            
            
          
            

            
            

            
            

            
              <li>Moving on to BufferGeometries</li>
            
            
          
            

            
            

            
            

            
              <li>Instanced geometries</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">12. Animation</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Animation overview</li>
            
            
          
            

            
            

            
            

            
              <li>Tweening with GSAP</li>
            
            
          
            

            
            

            
            

            
              <li>The three.js animation system</li>
            
            
          
            

            
            

            
            

            
              <li>Using animations from other applications</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">13. Postprocessing and effects</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Setting up postprocessing</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">14. Creating custom shaders</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>ShaderMaterial and RawShaderMaterial</li>
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">15. Tips & tricks</span>
        

        
        <ul>
          
            

            
            

            
            

            
              <li>Removing objects from a scene</li>
            
            
          
            

            
            

            
            

            
              <li>Reducing draw calls</li>
            
            
          
            

            
            

            
            

            
              <li>Texture anisotropy</li>
            
            
          
        </ul>
        
      </li>
    
  </ul>
</nav>
      
    
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="The Object3D base class">
    <meta itemprop="description" content="Everything you need to know about the Object3D base class in three.js">
    <meta itemprop="datePublished" content="September 04, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">The Object3D base class
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>If you look through the three.js documentation, you’ll see that each classes hierarchy is listed at the top of the page - for example at  top of the the <a href="https://threejs.org/docs/#api/cameras/PerspectiveCamera">PerspectiveCamera</a> page you’ll see</p>

<p><a href="https://threejs.org/docs/#api/core/Object3D">Object3D</a> → <a href="https://threejs.org/docs/#api/cameras/Camera">Camera</a> →</p>

<p>which means that the PerspectiveCamera inherits from the <a href="https://threejs.org/docs/#api/cameras/Camera">Camera</a> base class (as do all cameras), which in turn inherits from <a href="https://threejs.org/docs/#api/core/Object3D">Object3D</a> class. This is very important, as in general each class inherits all the properties and methods of the classes higher up the inheritance chain (although they may have different defaults or in some cases be disabled). If you do not make note of this then you are likely to miss documentation of important functionality. For example, if you just look at the PerspectiveCamera’s docs page, you miss it’s <a href="https://threejs.org/docs/#api/cameras/Camera.clone">.clone</a> property which is documented on the Camera page, one step up the inheritance chain.</p>

<p>The most important base class is <a href="https://threejs.org/docs/#api/core/Object3D">Object3D</a>. You’ll rarely use this directly, but all of it’s properties and methods are inherited by every three.js object that has a position in 3D space. This includes:</p>
<ul>
  <li><a href="https://threejs.org/docs/#api/audio/Audio">Audio</a>, <a href="https://threejs.org/docs/#api/audio/AudioListener">AudioListener</a>, <a href="https://threejs.org/docs/#api/audio/PositionalAudio">PositionalAudio</a></li>
  <li>All helpers</li>
  <li><a href="https://threejs.org/docs/#api/objects/Bone">Bone</a> and <a href="https://threejs.org/docs/#api/objects/Skeleton">Skeleton</a></li>
  <li><a href="https://threejs.org/docs/#api/cameras/Camera">Camera</a> and all derived classes (i.e. all cameras)</li>
  <li><a href="https://threejs.org/docs/#api/extras/core/Curve">Curve</a> and all derived classes (i.e. all curve, path and shape and text objects)</li>
  <li><a href="https://threejs.org/docs/#api/extras/core/Line">Line</a> and it’s derived classes (<a href="https://threejs.org/docs/#api/objects/LineSegments">LineSegments</a> and <a href="https://threejs.org/docs/#api/objects/LineLoop">LineLoop</a>)</li>
  <li><a href="https://threejs.org/docs/#api/objects/Group">Group</a></li>
  <li><a href="https://threejs.org/docs/#api/extras/objects/ImmediateRenderObject">ImmediateRenderObject</a></li>
  <li><a href="https://threejs.org/docs/#api/objects/LensFlare">LensFlare</a></li>
  <li><a href="https://threejs.org/docs/#api/lights/Light">Light</a> and all derived classes (i.e. all lights)</li>
  <li><a href="https://threejs.org/docs/#api/objects/LOD">LOD</a></li>
  <li><a href="https://threejs.org/docs/#api/objects/Mesh">Mesh</a> and it’s classes.</li>
  <li><a href="https://threejs.org/docs/#api/objects/Points">Points</a></li>
  <li><a href="https://threejs.org/docs/#api/scenes/Scene">Scene</a></li>
  <li><a href="https://threejs.org/docs/#api/objects/Sprite">Sprite</a></li>
</ul>

<p>As you can see, a lot of things inherit from Object3D! So we should definitely become familiar with it.</p>

<p>First, it’s worth noting one type of thing that, perhaps surprisingly, does not inherit from Object3D - that is, all <a href="https://threejs.org/docs/#api/core/Geometry">Geometries</a>, <a href="https://threejs.org/docs/#api/core/BufferGeometry">BufferGeometries</a> and their derived classes. The idea is you provide a geometry (or preferably, a buffer geometry) to the mesh, <em>after</em> you have made any necessary adjustments to it’s position (translation), scale, rotation and so on. The Mesh works as a kind of container that then provides methods for translating (moving), rotating or scaling the object in the 3D world space.</p>

<h2 id="a-mathematical-aside---affine-transformations-and-matrices">A mathematical aside - affine transformations and matrices</h2>
<p>We’ll pause for a moment here and introduce a couple of mathematical concepts that you will need, in a very non-technical and imprecise manner. You don’t need to worry about having any kind of deep understanding of these yet, but at some point in your adventure in 3D space you should consider studying this stuff. It’s nearly all classed under the term <a href="https://en.wikipedia.org/wiki/Linear_algebra">Linear Algebra</a>, and if you do a search for “3D mathematics” or anything similar you’ll find a lot of resources. Pick something basic to start with.</p>

<h3 id="affine-transformations">Affine transformations</h3>
<p>The collective technical term for translation, scale, rotation and other similar 3D operations is <em>transformations</em> (even more technically <a href="https://en.wikipedia.org/wiki/Affine_transformation">affine transformations</a>).</p>

<p>Non-technically, an affine transformation is any movement or change in size or shape that preserves points, straight lines, planes and parallel lines. Intuitively, you can think of them as any <em>normal</em> movement in 3D space, including shrinking or stretching and shearing. All of the transformation that you can make in three.js are affine transformations - non-affine transformations are not supported, and in the rare case that you do need one, you’ll have to roll your own. But you’ll probably never have to worry about that. Make a mental note and let’s move on.</p>

<h3 id="matrices">Matrices</h3>
<p class="align-left"><script type="math/tex">% <![CDATA[
\begin{pmatrix}
  1 & 4 & 4 & 2 \\
  5 & 1 & 2 & 3 \\
  2 & 8 & 7 & 6 \\
  3 & 8 & 0 & 2
 \end{pmatrix} %]]></script></p>
<p>A matrix is an efficient way of storing numbers in a rectangular array. You may have seen them before, even if you haven’t studied them. On the left is a 4x4 square matrix - it has four rows and four columns, and the same number of rows as columns so it is called <em>square</em>. Matrices can hold all kinds of information, but we are particularly interested in the fact that they can very efficiently hold any combination of sequences of affine transformations - so if we want to translate an object 3 units along the x axis, then rotate it by some amount around the y axis, then scale it to twice it’s current size, we can store all this information in a single 4x4 <a href="https://en.wikipedia.org/wiki/Transformation_matrix">Transformation Matrix</a> - see in particular the section on <a href="https://en.wikipedia.org/wiki/Transformation_matrix#Affine_transformations">affine transformations</a> on that page if you want to go deeper.</p>

<p>The official docs page for <a href="https://threejs.org/docs/#api/math/Matrix4">Matrix4</a> has some more information on this, as well as details on the common matrices used.</p>

<h2 id="object3d-properties">Object3D Properties</h2>

<p>Now that we have seen <em>why</em> we should understand Object3D so well, let’s take a look at some of it’s most important properties. We won’t look at all of them here - this is not a reference book after all, and quite a few of them are only intended to be used internally or by advanced users.</p>

<h3 id="matrix-properties">Matrix properties</h3>
<p>Every Object3D has a couple of transformation matrices that we should take note of, at least in passing. although we will rarely use them directly.</p>
<ul>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.matrix">.matrix</a>: this holds the local transform of the object. Any transformation of the object’s children will be relative to this. We’ll come back to this when we look at the scene graph and grouping objects.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.matrixWorld]">.matrixWorld</a>: how the object is transformed relative to it’s parent - in general this will be the main <a href="https://threejs.org/docs/#api/scenes/Scene">Scene</a>. Again, we’ll take a deeper look at this in the next chapters. Setting the corresponding <a href="https://threejs.org/docs/#api/core/Object3D.matrixWorldNeedsUpdate">.matrixWorldNeedsUpdate</a> to <code class="highlighter-rouge">true</code> will update this matrix in the next frame and then reset the property to <code class="highlighter-rouge">false</code>.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.modelViewMatrix">modelViewMatrix</a>: after the object has been transformed in world space, it is transformed relative to the camera. This transformation is stored here.</li>
</ul>

<h3 id="transformation-properties">Transformation properties</h3>
<p>These properties relate to the <a href="https://threejs.org/docs/#api/core/Object3D.matrix">.matrix</a>described above - i.e. they are used to set the local transform of the object. If the <a href="https://threejs.org/docs/#api/core/Object3D.matrixAutoUpdate">matrixAutoUpdate</a> property is set to <code class="highlighter-rouge">true</code> (which it is by default), then the matrix is updated to hold the combined transformation represented by these properties.</p>

<p>In other words, instead of trying to set the matrix manually, we can just adjust the position, scale and rotation as we please and be confident that the matrix will be updated automatically in the next frame.</p>
<ul>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.position">.position</a> - a <a href="https://threejs.org/docs/#api/math/Vector3">Vector3</a> holding the position of the object, in the order <code class="highlighter-rouge">x, y, z</code>. You can set all of the values at once with <code class="highlighter-rouge">object.position.set( newX, newY, newZ)</code>, or individually with <code class="highlighter-rouge">object.position.x = newX</code> and so on.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.rotation">.rotation</a> - an Euler angle representing the object’s rotation in radians. What the hell is an Euler angle? Well, see below for a very quick overview. But for now, just think of this as being the same as Vector3 containing the x, y and z rotation of the object, and you can change the values in the same way as the  position above. But be sure to read the note on radians below.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.scale">.scale</a> - another Vector3, this time holding the scale of the object along its x, y and z axes. To start with it will be set to <code class="highlighter-rouge">(1, 1, 1)</code>, which means the object is scaled at 100% along all axes. To half it’s size, do <code class="highlighter-rouge">object.scale.set( 0.5, 0.5, 0.5 )</code>, or <code class="highlighter-rouge">object.scale.set( 2, 2, 2 )</code> will double it. To half it’s width (x axis), use <code class="highlighter-rouge">object.scale.x = 0.5</code>, and to double it’s height (y axis), use <code class="highlighter-rouge">object.scale.y = 2</code>. And so on.</li>
</ul>

<p>But wait, there’s one more transformation property that we need to look at:</p>
<ul>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.quaternion">.quaternion</a> - a <a href="https://threejs.org/docs/#api/math/Quaternion">Quaternion</a>. According to the docs “This is used for rotating things without encountering the dreaded gimbal lock issue, amongst other advantages.” Pretty cryptic, what could this thing be? Well, hold on, we’ll explain it in a minute.</li>
</ul>

<h2 id="a-rotational-mathematical-aside---radians-euler-angles-and-quaternions">A rotational mathematical aside - radians, Euler angles and Quaternions</h2>
<p>We need to take another quick informal look at some more mathematics before we proceed, this time all things rotational. It turns out that rotating things is a little bit more complex than setting the position or scale, and there are a couple of things that we should know about before proceeding. The first two, radians and Euler angles are easy. Quaternions, though, are quite complex. Well, like most things mathematical, they are actually quite simple, once you’ve spent several days understanding them. But don’t worry, we can largely ignore them for now.</p>

<h3 id="radians">Radians</h3>
<p>Angles in 3D space are rarely specified in degrees, which is unfortunate, because you are probably familiar with degrees. Instead, they are specified in <a href="https://en.wikipedia.org/wiki/Radian">radians</a>. On the other hand, it is very simple to convert degrees to radians, and vice versa.</p>

<script type="math/tex; mode=display">angle \,\, in \,\, radians = (angle \,\, in \,\, degrees) \,. \frac{\pi}{180^{\circ}}</script>

<p>So, to convert say, <script type="math/tex">125^{\circ}</script>, we find that it is</p>

<script type="math/tex; mode=display">125 \,. \frac{\pi}{180} = 2.18166 \, radians</script>

<p>This would be a good time to write yourself an little helper utility - something like:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">toRadians</span><span class="p">(</span> <span class="nx">angle</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">angle</span> <span class="o">*</span> <span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span> <span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Or the ES6 version:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">toRadians</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">angle</span> <span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">angle</span> <span class="o">*</span> <span class="p">(</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span> <span class="p">);</span></code></pre></figure>

<p>For completeness, the opposite formula is:</p>

<script type="math/tex; mode=display">angle \,\, in \,\, degrees = (angle \,\, in \,\, radians) \,. \frac{180^{\circ}}{\pi}</script>

<h3 id="euler-angles">Euler angles</h3>
<p><a href="https://en.wikipedia.org/wiki/Euler_angles">Euler angles</a> represent something that will (hopefully) match very closely to your intuition about how to rotate an object in 3D space, with just a couple of things to watch out for. Basically, we stick an x axis through the width of our object, then a y axis from top to bottom, and a z axis going from front to back, then we define rotations around the axes, remembering to specify the rotations in radians.</p>

<p>So, to rotate 90 degrees (1.5708 radians) around the x axis, then 45 degrees (0.785398 radians) around the y axis, we can set our rotation like so:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">object</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="mf">1.5708</span><span class="p">,</span> <span class="mf">0.785398</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></code></pre></figure>

<p>If you check the <a href="https://threejs.org/docs/#api/math/Euler">docs</a> page, you’ll see that, beside the x, y and z properties which specify rotations around the corresponding axes, there is another property called <a href="https://threejs.org/docs/#api/math/Euler.order">.order</a>. It turns out that there are lots of other ways of defining Euler angles and three.js uses the <em>intrinsic</em> Tait-Bryan, colloquially known as <em>yaw</em>, <em>pitch</em> and <em>roll</em>.</p>

<p>A final note - the reason this ordering is important is that the rotations are applied separately around each axis - <em>first</em> the x-axis, <em>then</em> the y-axis, <em>then</em> the z-axis. This won’t generally cause you problems, but you should keep it in mind.</p>

<h3 id="quaternions">Quaternions</h3>
<p>Behind the scenes, three.js entirely uses <a href="https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation">quaternions</a> for calculating rotation. They are sometimes faster and have some other advantages, such as avoiding <a href="https://en.wikipedia.org/wiki/Gimbal_lock">gimbal lock</a>. But they have one major disadvantage - they are considerably more complex for humans to use, at least until we have spent a long time working with them. We have a lifetime of familiarity with Euler angles, even if we didn’t know that’s what they were called, however quaternions will be conceptually unfamiliar to most of us, rendering our intuitions much less useful.</p>

<p>It’s OK though, because we can completely ignore them for our entire three.js careers and be none the worse off. Mainly.</p>

<p>And that is exactly what we are going to do here, unfortunately. It would take a few pages to introduce the mathematics and get up to speed with using it to calculate rotations, and this section is about getting up to speed with three.js, not mathematics. So, we’ll stick with the Euler angles. Digression over (but do study this fascinating topic yourself).</p>

<h2 id="back-to-the-properties">Back to the properties</h2>

<h3 id="other-properties">Other properties</h3>

<ul>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.children">.children</a> - an array containing all child objects. We’ll go over this again in when we look at the scene graph and grouping objects.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.name">.name</a> - if you want, you can add a name string to your object, which you can then use for debugging purposes, or for searching through your scene with the <a href="https://threejs.org/docs/#api/core/Object3D.getObjectByName">.getObjectByName( name )</a> method.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.onAfterRender">.onAferRender</a> and <a href="https://threejs.org/docs/#api/core/Object3D.onBeforeRender">.onBeforeRender</a> - these are empty functions by default. You can replace them with anything you want to be executed just before or just after <em>this</em> object is rendered, allowing for very fine control in the rendering pipeline.</li>
  <li><a href="https://threejs.org/docs/#api/core/Object3D.parent">.parent</a> - if the object has a parent, in particular if it has been added to the <a href="https://threejs.org/docs/#api/scenes/Scene">Scene</a> directly (i.e not as the child of some other object), then a reference to that parent is kept here. Note that an object can have only one parent.</li>
</ul>

        
      </section>

      <footer class="page__meta">
        

        
          <p class="page__date"><strong><span class="fa fa-fw fa-calendar" aria-hidden="true"></span> Updated:</strong> <time datetime="2017-09-04T15:52:28+01:00">September 04, 2017</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="https://www.blackthreaddesign.com/tutorials/1.2-orbit-controls" class="pagination--pager" title="Adding Orbit Controls
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
    <h4 class="page__comments-title">Leave a Comment</h4>
    <section id="disqus_thread"></section>
  
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><a href="https://github.com/looeee/"><span class="fa fa-fw fa-github" aria-hidden="true"></span> GitHub</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Lewy Blue.</div>


      </footer>
    </div>

    
  <script async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>







  <script async src="/assets/js/build/main.js"></script>





  
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'www-blackthreaddesign-com';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






  </body>
</html>
